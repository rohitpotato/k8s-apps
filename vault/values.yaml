server:
  ha:
    enabled: false
  standalone:
    enabled: true
    config: |
      ui = true
      
      listener "tcp" {
        address     = "0.0.0.0:8200"
        tls_disable = 1
      }
      storage "file" {
        path = "/vault/data"
      }

ui:
  enabled: true

injector:
  enabled: true

# Use ReadWriteOnce storage for single node
dataStorage:
  enabled: true
  size: 5Gi
  storageClass: "local-path"
  accessModes:
    - ReadWriteOnce
  finalizers:
    - kubernetes.io/pvc-protection

# Remove PDB for single node
pdb:
  enabled: false

# Resource limits for Vault pod
server:
  nodeSelector:
    nodeRole: worker
  affinity:
    podAntiAffinity:
      preferredDuringSchedulingIgnoredDuringExecution:
      - weight: 100
        podAffinityTerm:
          labelSelector:
            matchExpressions:
            - key: app.kubernetes.io/name
              operator: In
              values:
              - vault
          topologyKey: kubernetes.io/hostname
  resources:
    requests:
      memory: "256Mi"
      cpu: "200m"
    limits:
      memory: "512Mi"
      cpu: "400m"
